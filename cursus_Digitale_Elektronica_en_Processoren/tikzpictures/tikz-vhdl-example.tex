\begin{tikzpicture}[circuit logic US]
\draw (-1.5,-2.25) rectangle (1.5,2.25);
\draw (-0.75,-1.75) rectangle ++(1.5,1.5);
\draw (-0.75,1.75) rectangle ++(1.5,-1.5);
\draw[->,very thick] (-2.75,1.25) node[anchor=south west]{In1} -- (-0.75,1.25) node[anchor=west]{A};
\draw[very thick] (-2.75,0) node[anchor=south west]{In2} -- (-1.125,0);
\draw[<->,very thick] (-0.75,0.75) node[anchor=west]{B} -- ++(-0.375,0) -- ++(0,-1.5) -- ++(0.375,0) node[anchor=west]{A};
\draw[->,very thick] (-2.75,-1.25) node[anchor=south west]{In3} -- (-0.75,-1.25) node[anchor=west]{B};
\draw[->] (0.75,1) node[anchor=east]{EQ} -- (2.75,1) node[anchor=south east]{Out1};
\draw[->] (0.75,-1) node[anchor=east]{EQ} -- (2.75,-1) node[anchor=south east]{Out2};
\draw (0,1.7) node[anchor=south]{Comp};
\draw (0,-0.3) node[anchor=south]{Comp};
\draw (-1.5,2.25) node[anchor=south west]{Test};
\begin{scope}[xshift=7.5 cm]
\draw (-3,3.2) node[anchor=south west]{Comp};
\draw (-3,-3.2) rectangle (3,3.2);
\node[and gate,inputs={normal,normal,normal,normal,normal,normal,normal,normal}] (A) at (1.5,0) {};
\draw[->] (A.output) -- ++(1.5,0) node[anchor=south east]{EQ};
\draw[->,very thick] (-4,-1) node[anchor=south west]{B} -- (-3,-1);
\draw[->,very thick] (-4,1) node[anchor=south west]{A} -- (-3,1);
\foreach\x/\y/\t in {1/4/0,2/3/1,3/2/2,4/1/3,5/1/4,6/2/5,7/3/6,8/4/7} {
  \node[xnor gate] (Xn) at (-1.5,3.6-0.8*\x) {};
  \draw (Xn.output) -- ++(0.55+.2*\y,0) |- (A.input \x);
  \draw (Xn.input 1 -| -2.25,0) node[scale=0.5,anchor=east]{A[\t]} -- (Xn.input 1);
  \draw (Xn.input 2 -| -2.25,0) node[scale=0.5,anchor=east]{B[\t]} -- (Xn.input 2);
}
\end{scope}
\end{tikzpicture}